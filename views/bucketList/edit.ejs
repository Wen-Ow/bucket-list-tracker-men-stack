<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Edit Item in Your Bucket List</title>
    <link rel="stylesheet" href="/css/styles.css" />
  </head>
  <body>
    <div class="header flex justify-between m-6">
      <div class="logo-section flex">
        <img src="/images/homeicn.png" class="mr-2" alt="Home icon" />
        <h2>YoloLog</h2>
      </div>
      <a href="/signout" class="font-xl">Sign Out</a>
    </div>
    <div class="border-bottom m-6">
      <h2>Edit Item</h2>
    </div>

    <form action="/bucketList/<%= item._id %>?_method=PUT" method="POST">
      <div class="grid grid-cols-3 m-6">
        <div>
          <label for="title" class="block bold font-lg">Title:</label>
          <input
            type="text"
            id="title"
            class="form-input"
            name="title"
            value="<%= item.title %>"
            required
          />
        </div>
        
        <div>
        <label for="category" class="block bold font-lg">Category:</label>
        <select id="category" name="category" class="form-input" required>
          <option value="goals" <%= item.category === "goals" ? "selected" : "" %>>Goals</option>
          <option value="travel" <%= item.category === "travel" ? "selected" : "" %>>Travel</option>
          <option value="movies" <%= item.category === "movies" ? "selected" : "" %>>Movies</option>
          <option value="music" <%= item.category === "music" ? "selected" : "" %>>Music</option>
          <option value="food" <%= item.category === "food" ? "selected" : "" %>>Food</option>
          <option value="games" <%= item.category === "games" ? "selected" : "" %>>Games</option>
          <option value="sports" <%= item.category === "sports" ? "selected" : "" %>>Sports</option>
          <option value="books" <%= item.category === "books" ? "selected" : "" %>>Books</option>
          <option value="hobbies" <%= item.category === "hobbies" ? "selected" : "" %>>Hobbies</option>
          <option value="events" <%= item.category === "events" ? "selected" : "" %>>Events</option>
          <option value="education" <%= item.category === "education" ? "selected" : "" %>>Education</option>
          <option value="experience" <%= item.category === "experience" ? "selected" : "" %>>Experience</option>
          <option value="skill" <%= item.category === "skill" ? "selected" : "" %>>Skill</option>
          <option value="other" <%= item.category === "other" ? "selected" : "" %>>Other</option>
        </select>
        </div>
        <div>
          <label for="priority" class="block bold font-lg">Priority:</label>
          <select id="priority" name="priority" class="form-input">
            <option value="low" <%= item.priority === "low" ? "selected" : "" %>>Low</option>
            <option value="medium" <%= item.priority === "medium" ? "selected" : "" %>>Medium</option>
            <option value="high" <%= item.priority === "high" ? "selected" : "" %>>High</option>
        </select>
        </div>
        <div>
          <label for="targetDate" class="block bold font-lg">Target Date:</label>
          <input
            type="date"
            id="targetDate"
            class="form-input"
            name="targetDate"
            value="<%= item.targetDate ? item.targetDate.toISOString().split('T')[0] : '' %>"
          />
        </div>
        <div>
          <label for="budget" class="block bold font-lg">Budget:</label>
          <input
            type="number"
            id="budget"
            class="form-input"
            name="budget"
            min="0"
            step="1"
            value="<%= item.budget %>"
          />
        </div>
        <div>
          <label for="status" class="block bold font-lg">Status:</label>
          <select id="status" class="form-input" name="status">
    <option value="not started" <%= item.status === "not started" ? "selected" : "" %>>Not Started</option>
    <option value="in progress" <%= item.status === "in progress" ? "selected" : "" %>>In Progress</option>
    <option value="completed" <%= item.status === "completed" ? "selected" : "" %>>Completed</option>
    <option value="on hold" <%= item.status === "on hold" ? "selected" : "" %>>On Hold</option>
    <option value="cancelled" <%= item.status === "cancelled" ? "selected" : "" %>>Cancelled</option>
</select>
        </div>

      </div>
      <div class="m-6">
        <label for="description" class="block bold font-lg">Description:</label>
        <textarea id="description" class="form-input" name="description">
        <%= item.description %></textarea
        >
      </div>
      <div class="flex justify-end form-footer m-6">
        <a
          class="btn btn-secondary align-content-center mx-4"
          href="/bucketList"
          >Cancel</a
        >
        <button type="submit" class="btn btn-primary mx-4">Save</button>
      </div>
    </form>
  </body>
</html>
